import{a as j}from"./chunk-GJHCB34U.js";import{a as V,b as L,c as q,e as G,f as J,g as K,h as Q,i as W,j as X,k as Y,l as Z,m as ee,n as te,o as ne,q as ie}from"./chunk-UGBUBERS.js";import"./chunk-OSIF6X4Z.js";import{b as B}from"./chunk-XQDOKFBC.js";import{h as N,i as F,j as $}from"./chunk-KYMKD2E2.js";import{Y as R,aa as A,b as U,ba as H,d as y,e as k,f as E,g as I,i as D,m as T,t as z}from"./chunk-SXBG7OWA.js";import{$ as b,Ab as c,Bb as a,Cb as n,Db as m,Hb as _,Ib as C,Kb as P,Mb as f,Ob as s,Ua as w,Va as r,X as h,_a as g,ac as o,bc as d,cc as S,fb as O,ga as v,ha as M,kb as p}from"./chunk-HG6XAXC4.js";var u=class e{constructor(i){this.http=i}apiUrl="https://api.escuelajs.co/api/v1/users";getUsers(){return this.http.get(this.apiUrl)}static \u0275fac=function(t){return new(t||e)(b(T))};static \u0275prov=h({token:e,factory:e.\u0275fac,providedIn:"root"})};function le(e,i){e&1&&(a(0,"div",11),m(1,"mat-spinner",12),a(2,"p"),o(3,"Cargando informaci\xF3n del usuario..."),n()())}function ce(e,i){e&1&&(a(0,"th",25),o(1,"Campo"),n())}function se(e,i){if(e&1&&(a(0,"td",26)(1,"div",27)(2,"mat-icon"),o(3),n(),a(4,"span",28),o(5),n()()()),e&2){let t=i.$implicit;r(3),d(t.icon),r(2),d(t.label)}}function de(e,i){e&1&&(a(0,"th",29),o(1,"Valor"),n())}function pe(e,i){if(e&1&&(a(0,"span",39),o(1),n()),e&2){let t=s().$implicit;r(),d(t.value)}}function me(e,i){if(e&1&&(a(0,"span",40),o(1),n()),e&2){let t=s().$implicit;r(),d(t.value)}}function ge(e,i){if(e&1&&(a(0,"span",41)(1,"mat-icon"),o(2),n(),o(3),n()),e&2){let t=s().$implicit,l=s(2);c("ngClass","role-"+t.value),r(2),d(l.getRoleIcon(t.value)),r(),S(" ",l.getRoleText(t.value)," ")}}function fe(e,i){e&1&&(a(0,"span",42)(1,"mat-icon"),o(2,"check_circle"),n(),o(3," Activo "),n())}function ue(e,i){if(e&1&&(a(0,"div",43)(1,"span",44),o(2),n(),a(3,"span",45),o(4),n()()),e&2){let t=s().$implicit,l=s(2);r(2),d(l.formatDate(t.value)),r(2),d(l.formatTime(t.value))}}function xe(e,i){if(e&1&&(a(0,"div",46),m(1,"img",47),n()),e&2){let t=s().$implicit,l=s(2);r(),c("src",t.value,w)("alt",l.currentUser.name)}}function _e(e,i){if(e&1&&(a(0,"span"),o(1),n()),e&2){let t=s().$implicit;r(),d(t.value)}}function Ce(e,i){if(e&1&&(a(0,"td",30)(1,"div",31),p(2,pe,2,1,"span",32)(3,me,2,1,"span",33)(4,ge,4,3,"span",34)(5,fe,4,0,"span",35)(6,ue,5,2,"div",36)(7,xe,2,2,"div",37)(8,_e,2,1,"span",38),n()()),e&2){let t=i.$implicit;r(),c("ngSwitch",t.type),r(),c("ngSwitchCase","id"),r(),c("ngSwitchCase","email"),r(),c("ngSwitchCase","role"),r(),c("ngSwitchCase","status"),r(),c("ngSwitchCase","date"),r(),c("ngSwitchCase","avatar")}}function he(e,i){e&1&&m(0,"tr",48)}function be(e,i){e&1&&m(0,"tr",49)}function ve(e,i){if(e&1&&(a(0,"div",13)(1,"div",14)(2,"h2"),o(3,"Informaci\xF3n del Usuario"),n(),a(4,"p"),o(5,"Datos completos de tu perfil de usuario"),n()(),a(6,"div",15)(7,"table",16),_(8,17),p(9,ce,2,0,"th",18)(10,se,6,2,"td",19),C(),_(11,20),p(12,de,2,0,"th",21)(13,Ce,9,7,"td",22),C(),p(14,he,1,0,"tr",23)(15,be,1,0,"tr",24),n()()()),e&2){let t=s();r(7),c("dataSource",t.userDataSource),r(7),c("matHeaderRowDef",t.displayedColumns),r(),c("matRowDefColumns",t.displayedColumns)}}function Me(e,i){if(e&1){let t=P();a(0,"div",50)(1,"mat-icon"),o(2,"error_outline"),n(),a(3,"h3"),o(4,"Error al cargar el perfil"),n(),a(5,"p"),o(6,"No se pudo obtener la informaci\xF3n del usuario"),n(),a(7,"button",51),f("click",function(){v(t);let x=s();return M(x.goBack())}),a(8,"mat-icon"),o(9,"arrow_back"),n(),o(10," Volver al Inicio "),n()()}}var ae=class e{constructor(i,t,l){this.userService=i;this.authService=t;this.router=l}currentUser=null;loading=!0;displayedColumns=["field","value"];userDataSource=[];ngOnInit(){this.loadCurrentUser()}loadCurrentUser(){this.currentUser=this.authService.getCurrentUser(),this.loading=!1,this.currentUser&&this.setupUserDataSource()}setupUserDataSource(){this.currentUser&&(this.userDataSource=[{label:"Avatar",value:this.currentUser.avatar,type:"avatar",icon:"account_circle"},{label:"ID de Usuario",value:this.currentUser.id,type:"id",icon:"fingerprint"},{label:"Nombre Completo",value:this.currentUser.name,type:"text",icon:"person"},{label:"Correo Electr\xF3nico",value:this.currentUser.email,type:"email",icon:"email"},{label:"Rol del Sistema",value:this.currentUser.role,type:"role",icon:"admin_panel_settings"},{label:"Estado de la Cuenta",value:"active",type:"status",icon:"verified"},{label:"Fecha de Registro",value:this.currentUser.creationAt,type:"date",icon:"event"},{label:"\xDAltima Actualizaci\xF3n",value:this.currentUser.updatedAt,type:"date",icon:"update"}])}formatDate(i){return new Date(i).toLocaleDateString("es-ES")}formatTime(i){return new Date(i).toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"})}getRoleText(i){return{admin:"Administrador",customer:"Cliente"}[i]||i}getRoleIcon(i){return{admin:"admin_panel_settings",customer:"person"}[i]||"person"}logout(){confirm("\xBFEst\xE1s seguro de que deseas cerrar sesi\xF3n?")&&(this.authService.logout(),this.router.navigate(["/login"]))}goBack(){this.router.navigate(["/home"])}static \u0275fac=function(t){return new(t||e)(g(u),g(j),g(z))};static \u0275cmp=O({type:e,selectors:[["app-users"]],decls:21,vars:3,consts:[[1,"users-container"],[1,"page-header"],[1,"header-left"],["mat-icon-button","",1,"back-button",3,"click"],[1,"header-content"],[1,"subtitle"],["mat-raised-button","","color","warn",1,"logout-button",3,"click"],[1,"content"],["class","loading",4,"ngIf"],["class","table-wrapper",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"loading"],["diameter","50"],[1,"table-wrapper"],[1,"table-header"],[1,"table-container"],["mat-table","",1,"user-table",3,"dataSource"],["matColumnDef","field"],["mat-header-cell","","class","field-column",4,"matHeaderCellDef"],["mat-cell","","class","field-cell",4,"matCellDef"],["matColumnDef","value"],["mat-header-cell","","class","value-column",4,"matHeaderCellDef"],["mat-cell","","class","value-cell",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","table-row",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"field-column"],["mat-cell","",1,"field-cell"],[1,"field-info"],[1,"field-label"],["mat-header-cell","",1,"value-column"],["mat-cell","",1,"value-cell"],[1,"value-content",3,"ngSwitch"],["class","id-badge",4,"ngSwitchCase"],["class","email-value",4,"ngSwitchCase"],["class","role-badge",3,"ngClass",4,"ngSwitchCase"],["class","status-badge active",4,"ngSwitchCase"],["class","date-info",4,"ngSwitchCase"],["class","avatar-cell",4,"ngSwitchCase"],[4,"ngSwitchDefault"],[1,"id-badge"],[1,"email-value"],[1,"role-badge",3,"ngClass"],[1,"status-badge","active"],[1,"date-info"],[1,"date"],[1,"time"],[1,"avatar-cell"],[1,"user-avatar",3,"src","alt"],["mat-header-row",""],["mat-row","",1,"table-row"],[1,"no-data"],["mat-raised-button","","color","primary",3,"click"]],template:function(t,l){t&1&&(a(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),f("click",function(){return l.goBack()}),a(4,"mat-icon"),o(5,"arrow_back"),n()(),a(6,"div",4)(7,"h1")(8,"mat-icon"),o(9,"person"),n(),o(10," Mi Perfil de Usuario "),n(),a(11,"p",5),o(12,"Informaci\xF3n detallada de tu cuenta"),n()()(),a(13,"button",6),f("click",function(){return l.logout()}),a(14,"mat-icon"),o(15,"logout"),n(),o(16," Cerrar Sesi\xF3n "),n()(),a(17,"div",7),p(18,le,4,0,"div",8)(19,ve,16,3,"div",9)(20,Me,11,0,"div",10),n()()),t&2&&(r(18),c("ngIf",l.loading),r(),c("ngIf",!l.loading&&l.currentUser),r(),c("ngIf",!l.loading&&!l.currentUser))},dependencies:[D,U,y,k,E,I,N,L,V,$,F,q,ne,G,K,Y,Q,J,Z,W,X,ee,te,H,A,R,B,ie],styles:[".users-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2)}.page-header[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);padding:25px 30px;box-shadow:0 4px 20px #0000001a;display:flex;align-items:center;justify-content:space-between;gap:20px}.header-left[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;flex:1}.back-button[_ngcontent-%COMP%]{background:#f5f5f5;border-radius:50%;width:48px;height:48px}.back-button[_ngcontent-%COMP%]:hover{background:#e0e0e0;transform:scale(1.05)}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;color:#333;font-size:28px;font-weight:600;display:flex;align-items:center;gap:12px}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:32px;width:32px;height:32px}.subtitle[_ngcontent-%COMP%]{margin:5px 0 0;color:#666;font-size:14px}.logout-button[_ngcontent-%COMP%]{min-width:140px;height:48px;border-radius:24px;font-weight:600}.logout-button[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:8px}.content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:40px 20px}.loading[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:20px;padding:80px 20px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;box-shadow:0 10px 30px #0003;color:#333}.table-wrapper[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;overflow:hidden;box-shadow:0 15px 35px #0000001a;border:1px solid rgba(255,255,255,.2)}.table-header[_ngcontent-%COMP%]{padding:30px;border-bottom:2px solid #f0f0f0;background:#fffc}.table-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin:0 0 8px;color:#333;font-size:24px;font-weight:600}.table-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:14px}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.user-table[_ngcontent-%COMP%]{width:100%;min-width:600px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#fafafa;font-weight:600;color:#333;border-bottom:2px solid #e0e0e0;padding:20px 16px;font-size:16px}.user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:20px 16px;border-bottom:1px solid #f0f0f0;vertical-align:middle}.table-row[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.table-row[_ngcontent-%COMP%]:last-child   td[_ngcontent-%COMP%]{border-bottom:none}.field-column[_ngcontent-%COMP%]{width:250px}.value-column[_ngcontent-%COMP%]{width:auto}.field-cell[_ngcontent-%COMP%]{font-weight:500}.field-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px}.field-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#667eea;font-size:20px;width:20px;height:20px}.field-label[_ngcontent-%COMP%]{font-size:15px;color:#333}.value-content[_ngcontent-%COMP%]{display:flex;align-items:center}.id-badge[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:8px 16px;border-radius:20px;font-size:14px;font-weight:600;display:inline-block;min-width:40px;text-align:center}.email-value[_ngcontent-%COMP%]{font-family:Courier New,monospace;background:#f8f9fa;padding:8px 12px;border-radius:8px;font-size:14px;color:#333}.role-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:25px;font-size:14px;font-weight:500;box-shadow:0 2px 8px #0000001a}.role-badge.role-admin[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.role-badge.role-customer[_ngcontent-%COMP%]{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.role-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px!important;width:18px!important;height:18px!important}.status-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;padding:10px 16px;border-radius:20px;font-size:14px;font-weight:500}.status-badge.active[_ngcontent-%COMP%]{background:#e8f5e8;color:#2e7d32}.status-badge[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px!important;width:18px!important;height:18px!important}.date-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.date[_ngcontent-%COMP%]{font-weight:500;color:#333;font-size:15px}.time[_ngcontent-%COMP%]{font-size:13px;color:#999}.avatar-cell[_ngcontent-%COMP%]{display:flex;align-items:center}.user-avatar[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;object-fit:cover;box-shadow:0 4px 15px #0003;border:3px solid white}.no-data[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:25px;padding:80px 20px;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:20px;box-shadow:0 10px 30px #0003;text-align:center;color:#333}.no-data[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:72px;width:72px;height:72px;color:#ccc}.no-data[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:1.5rem}.no-data[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#666;font-size:1rem}@media (max-width: 768px){.page-header[_ngcontent-%COMP%]{padding:20px;flex-direction:column;align-items:stretch;gap:15px}.header-left[_ngcontent-%COMP%]{justify-content:flex-start}.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:24px}.content[_ngcontent-%COMP%]{padding:30px 15px}.table-header[_ngcontent-%COMP%]{padding:20px}.table-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:20px}.user-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .user-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:16px 12px}.field-column[_ngcontent-%COMP%]{width:200px}.field-info[_ngcontent-%COMP%]{gap:8px}.field-label[_ngcontent-%COMP%]{font-size:14px}.user-avatar[_ngcontent-%COMP%]{width:50px;height:50px}}@media (max-width: 480px){.header-content[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px}.subtitle[_ngcontent-%COMP%]{font-size:12px}.logout-button[_ngcontent-%COMP%]{min-width:120px;height:44px;font-size:14px}.field-column[_ngcontent-%COMP%]{width:150px}.field-info[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{display:none}}"]})};export{ae as UsersComponent};
