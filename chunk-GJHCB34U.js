import{j as e,m as f}from"./chunk-SXBG7OWA.js";import{$ as n,B as c,Ea as u,X as p,o as a,s as l}from"./chunk-HG6XAXC4.js";var m=class i{constructor(r,t){this.http=r;this.platformId=t}apiUrl="https://api.escuelajs.co/api/v1/users";currentUser=null;login(r,t){return this.http.get(this.apiUrl).pipe(l(g=>{let s=g.find(o=>o.email===r&&o.password===t);return s?(this.currentUser=s,e(this.platformId)&&localStorage.setItem("currentUser",JSON.stringify(s)),!0):!1}),c(()=>a(!1)))}logout(){this.currentUser=null,e(this.platformId)&&localStorage.removeItem("currentUser")}isLoggedIn(){if(this.currentUser)return!0;if(e(this.platformId)){let r=localStorage.getItem("currentUser");if(r)return this.currentUser=JSON.parse(r),!0}return!1}getCurrentUser(){return this.currentUser}static \u0275fac=function(t){return new(t||i)(n(f),n(u))};static \u0275prov=p({token:i,factory:i.\u0275fac,providedIn:"root"})};export{m as a};
